# Agent 终身记忆框架

## 设计理念

模拟人类记忆的双系统架构：
1. **时间线性记忆树** - 按时间组织，支持艾宾浩斯遗忘曲线
2. **关系图谱** - 实体之间的关系网络，支持推理

```
┌─────────────────────────────────────────────────────────────┐
│                     Agent Memory System                      │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│   ┌─────────────────┐         ┌─────────────────┐          │
│   │  时间线性记忆树   │ ←────→ │   关系图谱       │          │
│   │  (Temporal Tree) │         │  (Knowledge Graph)│          │
│   └─────────────────┘         └─────────────────┘          │
│          ↑                            ↑                     │
│          │                            │                     │
│   ┌──────┴──────┐              ┌──────┴──────┐             │
│   │ 艾宾浩斯遗忘  │              │  实体链接    │             │
│   │ 重要度衰减   │              │  关系推理    │             │
│   └─────────────┘              └─────────────┘             │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

## 核心特性

### 1. 时间线性记忆树
- 24小时周期自动压缩
- 树形结构：年 → 月 → 周 → 日 → 事件
- 重要度动态调整（艾宾浩斯曲线 + 提及频率）
- 按需展开细节

### 2. 关系图谱
- 用户画像
- 人物/实体档案
- 关系网络
- 支持推理查询

## 文件结构

```
memory_framework/
├── README.md
├── schema/
│   ├── temporal_tree.py      # 时间树数据结构
│   ├── knowledge_graph.py    # 关系图谱
│   └── models.py             # 核心数据模型
├── core/
│   ├── memory_manager.py     # 记忆管理器
│   ├── forgetting_curve.py   # 艾宾浩斯曲线实现
│   ├── consolidation.py      # 24h记忆压缩
│   └── retrieval.py          # 检索引擎
├── api/
│   └── memory_api.py         # 对外API
└── examples/
    └── usage_demo.py         # 使用示例
```
